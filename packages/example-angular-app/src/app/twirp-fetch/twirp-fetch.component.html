<h2>Twirp via fetch API</h2>

<p>
  This is an example for an unary method call to the rpc <code>spec.haberdasher.Haberdasher.MakeHat()</code>.<br>
  It uses the <code>TwirpFetchTransport</code> from <code>@protobuf-ts/twirp-transport</code>.<br>
  An example Twirp server is available in <code>packages/example-twirp-server</code>.
</p>


<button class="button" (click)="send()">Call!</button>

<h5>Request:</h5>
<form>
  <div class="grid-x grid-padding-x">
    <div class="large-3 medium-4 cell">
      <label>Hat size</label>
      <input name="request_inches" type="number" [(ngModel)]="request.inches" placeholder="inches"/>
    </div>
  </div>
</form>


<ng-container *ngIf="outcome$ | async as infos">

  <h5 *ngIf="infos.length > 0">Outcome:</h5>

  <div class="callout" [ngClass]="info.mode" *ngFor="let info of infos">
    <h6>{{info.title}}</h6>
    <pre>{{info.content | json}}</pre>
  </div>

</ng-container>
